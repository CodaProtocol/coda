(library
 (name coda_lib)
 (public_name coda_lib)
 (library_flags -linkall)
 (inline_tests)
 (libraries
   ;; opam deps
   async
   async_extra
   core
   incremental
   ;; libraries
   archive_lib
   auxiliary_database
   block_producer
   coda_intf
   coda_networking
   consensus
   daemon_rpcs
   debug_assert
   exit_handlers
   logger
   node_addrs_and_ports
   o1trace
   otp_lib
   participating_state
   pipe_lib
   receipt_chain_database
   runtime_config
   secrets
   snark_worker
   sync_handler
   sync_status
   transaction_status
   transition_router
   unix_timestamp
   user_command_input
   work_selector)
 (preprocessor_deps ../../config.mlh)
 (preprocess (pps
  ppx_coda ppx_optcomp ppx_bin_prot ppx_compare ppx_hash
  ppx_fields_conv ppx_deriving.eq ppx_deriving.make
  ppx_sexp_conv ppx_let ppx_custom_printf
  ppx_inline_test bisect_ppx -- -conditional))
 (synopsis "Coda gut layer"))
