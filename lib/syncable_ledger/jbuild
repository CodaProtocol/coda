(jbuild_version 1)

(library
 ((name syncable_ledger)
  (public_name syncable_ledger)
  (modules (syncable_ledger))
  (library_flags (-linkall))
  (flags (:standard -short-paths -warn-error -32-34-27))
  (libraries (core async async_extra linear_pipe merkle_ledger))
  (preprocess (pps (ppx_jane ppx_deriving.eq)))
  (synopsis "Synchronization of Merkle-tree backed ledgers")))

(library
    ((name test)
    (modules (test))
    (inline_tests)
    (libraries (core async merkle_ledger syncable_ledger))
    (preprocess (pps (ppx_jane ppx_deriving.eq)))
    ))

(alias
    ((name runtest)
    (deps (test.exe))
     (action (run ${<} inline-test-runner))))
