(jbuild_version 1)

(executable
 ((name test)
  (libraries (core integers bignum gpu_dsl))
  (preprocess (pps (ppx_jane)))
  (modes (native))))

(rule
 ((targets (test.spv))
  (deps (test.exe))
  (action (run ${<} ${@}))))

; (executable
;  ((name exponentiation)
;   (libraries (core integers bignum gpu_dsl))
;   (preprocess (pps (ppx_jane)))
;   (modes (native))))
; 
; (rule
;  ((targets (exponentiation.spv))
;   (deps (compiler.exe))
;   (action (run ${<} ${@}))))
