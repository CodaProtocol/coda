FROM gcr.io/o1labs-192920/ocaml405:latest

RUN sudo apt-get install --yes cmake
RUN sudo apt-get install --yes libssl-dev
RUN sudo apt-get install --yes libffi-dev
RUN sudo apt-get install --yes libprocps-dev
RUN sudo apt-get install --yes libgmp-dev
RUN sudo apt-get install --yes libgmp3-dev
RUN sudo apt-get install --yes libboost-dev
RUN sudo apt-get install --yes libboost-program-options-dev

RUN opam depext -i jbuilder
RUN opam install core async

RUN opam install merlin ocp-indent
RUN opam install ctypes-foreign
RUN opam install ctypes
RUN opam install jbuilder
RUN opam install yojson menhir
RUN opam install async_ssl cohttp cohttp-async
RUN opam install bignum

